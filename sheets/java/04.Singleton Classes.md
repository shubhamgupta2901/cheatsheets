## Contents
* [Singleton classes in JAVA](#singleton-classes-in-java)
* [Implementing Singleton class](#implementing-singleton-class)
* [Thread Safety in singleton classes](thread-safety-in-singleton-classes)


## Singleton classes in JAVA
* A singleton class is a class that can have only one object (an instance of the class) at a time.After first time, we simply can not create the instance of a singleton class. 
* To design a singleton class:
  1. Override the constructor of the class and make it private (to avoid new object creation using new operator).
  2. Declare a private static instance of the same class
  3. Provide a public static method that will return the singleton class instance variable. If the variable is not initialized then initialize it or else simply return the instance variable.
  
### Implementing Singleton Class
```java
   // Java program implementing Singleton class with getInstance() method
class Singleton
{
    // static variable singleInstance of type Singleton
    private static Singleton singleInstance = null;
 
    // variable of type String
    public String s;
 
    // private constructor restricted to this class itself
    private Singleton()
    {
        s = "Hello I am a string part of Singleton class";
    }
 
    // static method to create instance of Singleton class
    public static Singleton getInstance()
    {
        if (singleInstance == null)
            singleInstance = new Singleton();
 
        return singleInstance;
    }
}
 
// Driver Class
class Main
{
    public static void main(String args[])
    {
        // instantiating Singleton class with variable x
        Singleton x = Singleton.getInstance();
 
        // instantiating Singleton class with variable y
        Singleton y = Singleton.getInstance();
 
        // instantiating Singleton class with variable z
        Singleton z = Singleton.getInstance();
 
        // changing variable of instance x
        x.s = (x.s).toUpperCase();
 
        System.out.println("String from x is " + x.s);
        System.out.println("String from y is " + y.s);
        System.out.println("String from z is " + z.s);
        System.out.println("\n");
 
        // changing variable of instance z
        z.s = (z.s).toLowerCase();
 
        System.out.println("String from x is " + x.s);
        System.out.println("String from y is " + y.s);
        System.out.println("String from z is " + z.s);
    }
}

  ```
*  Output
 ```
String from x is HELLO I AM A STRING PART OF SINGLETON CLASS
String from y is HELLO I AM A STRING PART OF SINGLETON CLASS
String from z is HELLO I AM A STRING PART OF SINGLETON CLASS


String from x is hello i am a string part of singleton class
String from y is hello i am a string part of singleton class
String from z is hello i am a string part of singleton class
 ```
 *  Explanation: In the ```Singleton``` class, when we first time call ```getInstance()``` method, it creates an object of the class with name ```singleInstance``` and return it to the variable. Since ```singleInstance``` is static, it is changed from null to some object. Next time, if we try to call ```getInstance()``` method, since ```singleInstance``` is not null, it is returned to the variable, instead of instantiating the ```Singleton``` class again. 
 
 ## Thread safety in Singleton classes
 
 * **```getInstance()``` method in singleton class is not thread safe.** Multiple threads can access it at the same time. Suppose two threads access the method at same time when the instance variable is not initialized, both of them will end up creating the instanceo of the class and our singleton implementation will end up broken.
